# Trex.so - 최종 테스트 가이드

## 🎯 수정 완료 사항

### 1. 도메인 변경
✅ **Trex.sale → Trex.so** 모든 페이지 적용 완료
- index.html (5곳)
- login.html (5곳)
- upload.html (2곳)
- market.html (2곳)
- profile.html (4곳)
- reset-password.html (2곳)
- js/auth.js (1곳)
- README.md (2곳)

### 2. 회원가입 후 자동 로그인
✅ **회원가입 완료 → 자동 로그인 → 메인 페이지 이동**
- localStorage에 사용자 정보 저장
- 1초 후 index.html로 리다이렉트
- 헤더에 프로필 아바타 자동 표시

### 3. localStorage 키 통일
✅ **user_type, profile_image, created_at** 필드명 통일
- login.html에서 저장할 때 snake_case 사용
- profile.html에서 읽을 때와 일치

---

## 🧪 테스트 시나리오

### 시나리오 1: 회원가입 → 경험 업로드
1. **메인 페이지** 접속 (비로그인 상태)
   - ✅ 헤더 오른쪽에 "로그인" 버튼 표시

2. **"경험 업로드하고 돈 벌기"** 버튼 클릭
   - ✅ 확인 팝업: "로그인이 필요한 서비스입니다. 로그인 페이지로 이동하시겠습니까?"
   - ✅ [확인] 클릭 → login.html로 이동
   - ✅ 회원가입 탭이 기본으로 활성화됨

3. **회원가입 진행**
   - 이메일: test@trex.so
   - 비밀번호: test1234
   - 비밀번호 확인: test1234
   - 닉네임: 테스트유저
   - 회원 유형: 크리에이터
   - ✅ [회원가입] 클릭
   - ✅ 토스트: "🎉 회원가입 완료!"
   - ✅ 1초 후 메인 페이지로 자동 이동

4. **메인 페이지 로그인 확인**
   - ✅ 헤더 오른쪽에 "테스트유저님" + 프로필 아바타 표시
   - ✅ 로그아웃 버튼 표시

5. **"경험 업로드하고 돈 벌기"** 다시 클릭
   - ✅ 확인 팝업 없이 바로 upload.html로 이동
   - ✅ 닉네임 필드에 "테스트유저" 자동 입력됨 (읽기 전용)

---

### 시나리오 2: 로그인 → 블록 구매
1. **메인 페이지** 접속 (비로그인 상태)
2. **헤더 "로그인"** 버튼 클릭
   - ✅ login.html로 이동
   - ✅ 회원가입 탭이 기본으로 표시됨

3. **로그인 탭으로 전환**
   - 이메일: test@trex.so
   - 비밀번호: test1234
   - ✅ [로그인] 클릭
   - ✅ 토스트: "✅ 로그인 성공!"
   - ✅ 1초 후 메인 페이지로 이동

4. **"블록 마켓"** 클릭
   - ✅ market.html로 이동
   - ✅ 헤더에 "장바구니" + 프로필 아바타 표시

5. **블록 카드에서 "장바구니에 추가"** 클릭
   - ✅ 확인 팝업 없이 바로 장바구니에 추가됨
   - ✅ 장바구니 카운트 증가 (0 → 1)

---

### 시나리오 3: 프로필 관리
1. **로그인 후 헤더 프로필 아바타** 클릭
   - ✅ profile.html로 이동

2. **프로필 정보 확인**
   - ✅ 닉네임: 테스트유저
   - ✅ 이메일: test@trex.so
   - ✅ 유저 타입 배지: "크리에이터"
   - ✅ 가입일: 2026.02.20
   - ✅ 내 블록: 0개
   - ✅ 구매한 블록: 0개

3. **"내 정보" 탭에서 닉네임 수정**
   - 닉네임: 테스트유저2
   - ✅ [저장하기] 클릭
   - ✅ "프로필이 성공적으로 업데이트되었습니다!"
   - ✅ 1.5초 후 페이지 새로고침
   - ✅ 헤더에 "테스트유저2님" 표시

---

### 시나리오 4: 비밀번호 재설정
1. **login.html** 접속
2. **"비밀번호를 잊으셨나요?"** 클릭
   - ✅ reset-password.html로 이동

3. **이메일 입력**
   - 이메일: test@trex.so
   - ✅ [재설정 링크 보내기] 클릭
   - ✅ 임시 비밀번호 화면에 표시 (예: ABC123)
   - ✅ 3초 후 Step 2로 자동 전환

4. **새 비밀번호 설정**
   - 임시 비밀번호: ABC123
   - 새 비밀번호: newpass123
   - 새 비밀번호 확인: newpass123
   - ✅ [비밀번호 변경 완료] 클릭
   - ✅ "비밀번호가 변경되었습니다!" 메시지
   - ✅ [로그인 페이지로 이동] 버튼 표시

5. **새 비밀번호로 로그인**
   - 이메일: test@trex.so
   - 비밀번호: newpass123
   - ✅ 로그인 성공

---

## 🐛 디버깅 체크리스트

### "경험 업로드하고 돈 벌기" 버튼 클릭 시 에러가 발생한다면?
1. ✅ **브라우저 콘솔 확인** (F12 → Console 탭)
   - `isLoggedIn is not defined` 에러 → js/auth.js 로드 확인
   - `getCurrentUser is not defined` 에러 → js/auth.js 로드 순서 확인

2. ✅ **localStorage 확인** (F12 → Application → Local Storage)
   - Key: `trex_user`
   - Value: `{"id":"...","email":"...","nickname":"...","user_type":"...","profile_image":"...","created_at":"..."}`

3. ✅ **함수 정의 순서 확인**
   - index.html에서 `<script src="js/auth.js"></script>`가 `handleUploadClick()` 사용 전에 로드되는지 확인

---

## ✅ 예상 결과

### 회원가입 후
- ✅ 토스트: "🎉 회원가입 완료!"
- ✅ 1초 후 메인 페이지로 자동 이동
- ✅ 헤더에 "닉네임님" + 프로필 아바타 표시
- ✅ "경험 업로드하고 돈 벌기" 클릭 시 바로 upload.html 접근

### 로그인 후
- ✅ 토스트: "✅ 로그인 성공!"
- ✅ 1초 후 메인 페이지로 이동
- ✅ 헤더에 프로필 정보 표시
- ✅ 모든 기능 정상 작동

### 로그아웃
- ✅ 헤더 "로그아웃" 버튼 클릭
- ✅ localStorage에서 trex_user 제거
- ✅ login.html로 이동

---

## 📝 최종 변경 파일 목록

| 파일 | 변경 사항 |
|------|----------|
| `index.html` | Trex.sale → Trex.so (5곳) |
| `login.html` | Trex.sale → Trex.so (5곳), 회원가입 후 자동 로그인, localStorage 키 통일 |
| `upload.html` | Trex.sale → Trex.so (2곳) |
| `market.html` | Trex.sale → Trex.so (2곳) |
| `profile.html` | Trex.sale → Trex.so (4곳) |
| `reset-password.html` | Trex.sale → Trex.so (2곳) |
| `js/auth.js` | Trex.sale → Trex.so (1곳) |
| `README.md` | Trex.sale → Trex.so (2곳), 도메인 업데이트 |

---

## 🚀 배포 전 체크리스트

- ✅ 모든 페이지에서 Trex.so 표시 확인
- ✅ 회원가입 → 자동 로그인 → 메인 페이지 이동 테스트
- ✅ 로그인 → 경험 업로드 접근 테스트
- ✅ 로그인 → 블록 마켓 장바구니 추가 테스트
- ✅ 프로필 정보 표시 및 수정 테스트
- ✅ 비밀번호 재설정 플로우 테스트
- ✅ 로그아웃 → 재로그인 테스트

---

**모든 수정이 완료되었습니다! 지금 바로 Publish 탭에서 배포하세요!** 🎉